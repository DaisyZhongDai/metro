<html>
<head>
	<title>Shanghai Metro</title>
	<script type="text/javascript" src="d3.min.js"></script>
	<style type="text/css">
	</style>
</head>
<body>
<div>
	<svg id="metro"></svg>
</div>
<script>
	var line_color = {"1": "#e91b39", "2": "#8ac53f", "3": "#fad107", "4": "#502e8d", "5": "#9056a3", "6": "#d61870", "7": "#f37121", "8": "#009eda", "9": "#79c8ed", "10": "#bca8d1", "11": "#7e2131", "12": "#007c65", "13": "#e895c0", "16": "#8dd1bf"
	};
	//var data = [{'name': '黄陂南路', 'transfer': '普通站', 'y': 569, 'x': 541, 'line': '1', 'id': '0122'},
	//{'name': '人民广场', 'transfer': '换乘站', 'y': 546, 'x': 544, 'line': '1', 'id': '0123'},
	//{'name': '新闸路', 'transfer': '普通站', 'y': 521, 'x': 483, 'line': '1', 'id': '0124'}];

	var connections = [["0138", "0137", "1"], ["0137", "0136", "1"], ["0136", "0135", "1"], ["0135", "0134", "1"], ["0134", "0133", "1"], ["0133", "0132", "1"], ["0132", "0131", "1"], ["0131", "0130", "1"], ["0130", "0129", "1"], ["0129", "0128", "1"], ["0128", "0127", "1"], ["0127", "0126", "1"], ["0126", "0125", "1"], ["0125", "0124", "1"], ["0124", "0123", "1"], ["0123", "0122", "1"], ["0122", "0121", "1"], ["0121", "0120", "1"], ["0120", "0119", "1"], ["0119", "0118", "1"], ["0118", "0117", "1"], ["0117", "0116", "1"], ["0116", "0115", "1"], ["0115", "0114", "1"], ["0114", "0113", "1"], ["0113", "0112", "1"], ["0112", "0111", "1"], ["1018", "1019", "10"], ["1019", "1020", "10"], ["1020", "1045", "10"], ["1041", "1042", "10"], ["1042", "1043", "10"], ["1043", "1044", "10"], ["1044", "1045", "10"], ["1045", "1046", "10"], ["1046", "1047", "10"], ["1047", "1048", "10"], ["1048", "1049", "10"], ["1049", "1050", "10"], ["1050", "1051", "10"], ["1051", "1052", "10"], ["1052", "1053", "10"], ["1053", "1054", "10"], ["1054", "1055", "10"], ["1055", "1056", "10"], ["1056", "1057", "10"], ["1057", "1058", "10"], ["1058", "1059", "10"], ["1059", "1060", "10"], ["1060", "1061", "10"], ["1061", "1062", "10"], ["1062", "1063", "10"], ["1063", "1064", "10"], ["1064", "1065", "10"], ["1065", "1066", "10"], ["1066", "1067", "10"], ["1067", "1068", "10"], ["1114", "1115", "11"], ["1115", "1116", "11"], ["1116", "1117", "11"], ["1117", "1118", "11"], ["1118", "1119", "11"], ["1119", "1120", "11"], ["1120", "1134", "11"], ["1131", "1132", "11"], ["1132", "1133", "11"], ["1133", "1134", "11"], ["1134", "1135", "11"], ["1135", "1137", "11"], ["1137", "1138", "11"], ["1138", "1139", "11"], ["1139", "1140", "11"], ["1140", "1141", "11"], ["1141", "1142", "11"], ["1142", "1143", "11"], ["1143", "1144", "11"], ["1144", "1145", "11"], ["1145", "1146", "11"], ["1146", "1147", "11"], ["1147", "1148", "11"], ["1148", "1149", "11"], ["1149", "1150", "11"], ["1150", "1151", "11"], ["1151", "1152", "11"], ["1152", "1153", "11"], ["1153", "1154", "11"], ["1154", "1155", "11"], ["1155", "1156", "11"], ["1156", "1157", "11"], ["1157", "1159", "11"], ["1159", "1160", "11"], ["1236", "1237", "12"], ["1237", "1238", "12"], ["1238", "1239", "12"], ["1239", "1240", "12"], ["1240", "1241", "12"], ["1241", "1242", "12"], ["1242", "1243", "12"], ["1243", "1244", "12"], ["1244", "1245", "12"], ["1245", "1246", "12"], ["1246", "1247", "12"], ["1247", "1248", "12"], ["1248", "1249", "12"], ["1249", "1250", "12"], ["1250", "1251", "12"], ["1321", "1322", "13"], ["1322", "1323", "13"], ["1323", "1324", "13"], ["1324", "1325", "13"], ["1325", "1326", "13"], ["1326", "1327", "13"], ["1327", "1328", "13"], ["1328", "1329", "13"], ["1329", "1330", "13"], ["1621", "1622", "16"], ["1622", "1623", "16"], ["1623", "1624", "16"], ["1624", "1625", "16"], ["1625", "1626", "16"], ["1626", "1627", "16"], ["1627", "1628", "16"], ["1628", "1629", "16"], ["1629", "1630", "16"], ["1630", "1631", "16"], ["1631", "1632", "16"], ["1632", "1633", "16"], ["0234", "0235", "2"], ["0235", "0236", "2"], ["0236", "0237", "2"], ["0237", "0238", "2"], ["0238", "0239", "2"], ["0239", "0240", "2"], ["0240", "0241", "2"], ["0241", "0242", "2"], ["0242", "0243", "2"], ["0243", "0244", "2"], ["0244", "0245", "2"], ["0245", "0246", "2"], ["0246", "0247", "2"], ["0247", "0248", "2"], ["0248", "0249", "2"], ["0249", "0250", "2"], ["0250", "0251", "2"], ["0251", "0252", "2"], ["0252", "0253", "2"], ["0253", "0254", "2"], ["0254", "0255", "2"], ["0255", "0256", "2"], ["0256", "0257", "2"], ["0257", "0258", "2"], ["0258", "0259", "2"], ["0259", "0260", "2"], ["0260", "0261", "2"], ["0261", "0262", "2"], ["0262", "0263", "2"], ["0339", "0338", "3"], ["0338", "0337", "3"], ["0337", "0336", "3"], ["0336", "0335", "3"], ["0335", "0334", "3"], ["0334", "0333", "3"], ["0333", "0332", "3"], ["0332", "0331", "3"], ["0331", "0330", "3"], ["0330", "0329", "3"], ["0329", "0328", "3"], ["0328", "0327", "3"], ["0327", "0326", "3"], ["0326", "0325", "3"], ["0325", "0324", "3"], ["0324", "0323", "3"], ["0323", "0322", "3"], ["0322", "0321", "3"], ["0321", "0320", "3"], ["0320", "0319", "3"], ["0319", "0318", "3"], ["0318", "0317", "3"], ["0317", "0316", "3"], ["0316", "0315", "3"], ["0315", "0314", "3"], ["0314", "0313", "3"], ["0313", "0312", "3"], ["0312", "0311", "3"], ["0401", "0402", "4"], ["0402", "0403", "4"], ["0403", "0404", "4"], ["0404", "0405", "4"], ["0405", "0406", "4"], ["0406", "0407", "4"], ["0407", "0408", "4"], ["0408", "0409", "4"], ["0409", "0410", "4"], ["0410", "0411", "4"], ["0411", "0412", "4"], ["0412", "0413", "4"], ["0413", "0414", "4"], ["0414", "0415", "4"], ["0415", "0416", "4"], ["0416", "0417", "4"], ["0417", "0418", "4"], ["0418", "0419", "4"], ["0419", "0420", "4"], ["0420", "0421", "4"], ["0421", "0422", "4"], ["0422", "0423", "4"], ["0423", "0424", "4"], ["0424", "0425", "4"], ["0425", "0426", "4"], ["0426", "0401", "4"], ["0501", "0502", "5"], ["0502", "0503", "5"], ["0503", "0505", "5"], ["0505", "0507", "5"], ["0507", "0508", "5"], ["0508", "0509", "5"], ["0509", "0510", "5"], ["0510", "0511", "5"], ["0511", "0512", "5"], ["0512", "0513", "5"], ["0621", "0622", "6"], ["0622", "0623", "6"], ["0623", "0624", "6"], ["0624", "0625", "6"], ["0625", "0626", "6"], ["0626", "0627", "6"], ["0627", "0628", "6"], ["0628", "0629", "6"], ["0629", "0630", "6"], ["0630", "0631", "6"], ["0631", "0632", "6"], ["0632", "0633", "6"], ["0633", "0634", "6"], ["0634", "0635", "6"], ["0635", "0636", "6"], ["0636", "0637", "6"], ["0637", "0638", "6"], ["0638", "0639", "6"], ["0639", "0640", "6"], ["0640", "0641", "6"], ["0641", "0642", "6"], ["0642", "0643", "6"], ["0643", "0644", "6"], ["0644", "0645", "6"], ["0645", "0646", "6"], ["0646", "0647", "6"], ["0647", "0648", "6"], ["0721", "0722", "7"], ["0722", "0723", "7"], ["0723", "0724", "7"], ["0724", "0725", "7"], ["0725", "0726", "7"], ["0726", "0727", "7"], ["0727", "0728", "7"], ["0728", "0729", "7"], ["0729", "0730", "7"], ["0730", "0731", "7"], ["0731", "0732", "7"], ["0732", "0733", "7"], ["0733", "0734", "7"], ["0734", "0735", "7"], ["0735", "0736", "7"], ["0736", "0737", "7"], ["0737", "0738", "7"], ["0738", "0739", "7"], ["0739", "0740", "7"], ["0740", "0741", "7"], ["0741", "0742", "7"], ["0742", "0743", "7"], ["0743", "0744", "7"], ["0744", "0745", "7"], ["0745", "0746", "7"], ["0746", "0747", "7"], ["0747", "0748", "7"], ["0748", "0749", "7"], ["0749", "0750", "7"], ["0750", "0751", "7"], ["0751", "0752", "7"], ["0752", "0753", "7"], ["0820", "0821", "8"], ["0821", "0822", "8"], ["0822", "0823", "8"], ["0823", "0824", "8"], ["0824", "0825", "8"], ["0825", "0826", "8"], ["0826", "0827", "8"], ["0827", "0828", "8"], ["0828", "0829", "8"], ["0829", "0830", "8"], ["0830", "0831", "8"], ["0831", "0832", "8"], ["0832", "0833", "8"], ["0833", "0834", "8"], ["0834", "0835", "8"], ["0835", "0836", "8"], ["0836", "0837", "8"], ["0837", "0838", "8"], ["0838", "0839", "8"], ["0839", "0840", "8"], ["0840", "0841", "8"], ["0841", "0842", "8"], ["0842", "0843", "8"], ["0843", "0844", "8"], ["0844", "0845", "8"], ["0845", "0846", "8"], ["0846", "0847", "8"], ["0847", "0848", "8"], ["0848", "0849", "8"], ["0918", "0919", "9"], ["0919", "0920", "9"], ["0920", "0921", "9"], ["0921", "0922", "9"], ["0922", "0923", "9"], ["0923", "0924", "9"], ["0924", "0925", "9"], ["0925", "0926", "9"], ["0926", "0927", "9"], ["0927", "0928", "9"], ["0928", "0929", "9"], ["0929", "0930", "9"], ["0930", "0931", "9"], ["0931", "0932", "9"], ["0932", "0933", "9"], ["0933", "0934", "9"], ["0934", "0935", "9"], ["0935", "0936", "9"], ["0936", "0937", "9"], ["0937", "0938", "9"], ["0938", "0939", "9"], ["0939", "0940", "9"], ["0940", "0941", "9"], ["0941", "0942", "9"], ["0942", "0943", "9"]];

	var stations = {"0134": {"LAT": "31.339677", "LNG": "121.437668"}, "0135": {"LAT": "31.355217", "LNG": "121.433977"}, "0136": {"LAT": "31.369582", "LNG": "121.430887"}, "0137": {"LAT": "31.381307", "LNG": "121.427883"}, "0130": {"LAT": "31.292602", "LNG": "121.450113"}, "0131": {"LAT": "31.306536", "LNG": "121.448568"}, "0132": {"LAT": "31.319002", "LNG": "121.447024"}, "0133": {"LAT": "31.331173", "LNG": "121.441445"}, "1148": {"LAT": "31.202195", "LNG": "121.435274"}, "1149": {"LAT": "31.193752", "LNG": "121.436304"}, "0138": {"LAT": "31.392297", "LNG": "121.424622"}, "1140": {"LAT": "31.271583", "LNG": "121.376051"}, "0835": {"LAT": "31.232621", "LNG": "121.475722"}, "0834": {"LAT": "31.226969", "LNG": "121.479327"}, "0837": {"LAT": "31.252948", "LNG": "121.469113"}, "0836": {"LAT": "31.242308", "LNG": "121.471516"}, "0831": {"LAT": "31.201938", "LNG": "121.489541"}, "0830": {"LAT": "31.185051", "LNG": "121.493489"}, "0833": {"LAT": "31.218896", "LNG": "121.483619"}, "0832": {"LAT": "31.211555", "LNG": "121.486108"}, "1146": {"LAT": "31.230566", "LNG": "121.423559"}, "0839": {"LAT": "31.269901", "LNG": "121.479306"}, "0838": {"LAT": "31.263481", "LNG": "121.468706"}, "1147": {"LAT": "31.220437", "LNG": "121.430597"}, "0938": {"LAT": "31.209463", "LNG": "121.477267"}, "1144": {"LAT": "31.241757", "LNG": "121.411371"}, "0426": {"LAT": "31.18557", "LNG": "121.443514"}, "0935": {"LAT": "31.199295", "LNG": "121.450488"}, "0424": {"LAT": "31.19405", "LNG": "121.463212"}, "0425": {"LAT": "31.19082", "LNG": "121.45493"}, "0422": {"LAT": "31.201906", "LNG": "121.489519"}, "0423": {"LAT": "31.19919", "LNG": "121.475186"}, "0420": {"LAT": "31.209798", "LNG": "121.518616"}, "0421": {"LAT": "31.20844", "LNG": "121.499733"}, "0637": {"LAT": "31.250384", "LNG": "121.572732"}, "0636": {"LAT": "31.245395", "LNG": "121.564235"}, "0635": {"LAT": "31.23912", "LNG": "121.552348"}, "0634": {"LAT": "31.235854", "LNG": "121.54355"}, "0633": {"LAT": "31.232956", "LNG": "121.534624"}, "0632": {"LAT": "31.228662", "LNG": "121.527156"}, "0631": {"LAT": "31.220148", "LNG": "121.529087"}, "0630": {"LAT": "31.211633", "LNG": "121.527757"}, "1018": {"LAT": "31.165068", "LNG": "121.355452"}, "0639": {"LAT": "31.263518", "LNG": "121.58668"}, "0638": {"LAT": "31.257025", "LNG": "121.58183"}, "1020": {"LAT": "31.176671", "LNG": "121.370644"}, "0721": {"LAT": "31.40186", "LNG": "121.349787"}, "1068": {"LAT": "31.328531", "LNG": "121.506814"}, "0723": {"LAT": "31.364124", "LNG": "121.355881"}, "0722": {"LAT": "31.388819", "LNG": "121.357598"}, "0725": {"LAT": "31.344774", "LNG": "121.372704"}, "0724": {"LAT": "31.357454", "LNG": "121.36249"}, "0727": {"LAT": "31.320507", "LNG": "121.388926"}, "0726": {"LAT": "31.32234", "LNG": "121.373391"}, "0729": {"LAT": "31.314934", "LNG": "121.408667"}, "0728": {"LAT": "31.321387", "LNG": "121.398968"}, "1063": {"LAT": "31.289253", "LNG": "121.510033"}, "1062": {"LAT": "31.282101", "LNG": "121.506321"}, "1065": {"LAT": "31.302802", "LNG": "121.514153"}, "1064": {"LAT": "31.298035", "LNG": "121.514582"}, "1067": {"LAT": "31.321786", "LNG": "121.506814"}, "1066": {"LAT": "31.313225", "LNG": "121.508349"}, "0338": {"LAT": "31.407927", "LNG": "121.46111"}, "0339": {"LAT": "31.407597", "LNG": "121.439781"}, "0332": {"LAT": "31.34498", "LNG": "121.50042"}, "0333": {"LAT": "31.357771", "LNG": "121.498746"}, "0330": {"LAT": "31.31987", "LNG": "121.484842"}, "0331": {"LAT": "31.331931", "LNG": "121.491451"}, "0336": {"LAT": "31.395253", "LNG": "121.479649"}, "0337": {"LAT": "31.403971", "LNG": "121.475872"}, "0334": {"LAT": "31.370779", "LNG": "121.492781"}, "0335": {"LAT": "31.381185", "LNG": "121.488189"}, "0112": {"LAT": "31.120452", "LNG": "121.393165"}, "0113": {"LAT": "31.130738", "LNG": "121.403121"}, "0111": {"LAT": "31.11112", "LNG": "121.38544"}, "0116": {"LAT": "31.168054", "LNG": "121.435007"}, "0117": {"LAT": "31.182007", "LNG": "121.436123"}, "0114": {"LAT": "31.141905", "LNG": "121.414322"}, "0115": {"LAT": "31.154319", "LNG": "121.430201"}, "1120": {"LAT": "31.331867", "LNG": "121.226105"}, "0118": {"LAT": "31.191479", "LNG": "121.438011"}, "0119": {"LAT": "31.204327", "LNG": "121.446423"}, "0918": {"LAT": "30.984749", "LNG": "121.23089"}, "0919": {"LAT": "31.001083", "LNG": "121.229302"}, "0750": {"LAT": "31.187479", "LNG": "121.54016"}, "0751": {"LAT": "31.192986", "LNG": "121.550202"}, "0752": {"LAT": "31.203631", "LNG": "121.557669"}, "0753": {"LAT": "31.211193", "LNG": "121.562733"}, "1236": {"LAT": "31.242271", "LNG": "121.471538"}, "1237": {"LAT": "31.243794", "LNG": "121.482503"}, "1238": {"LAT": "31.250086", "LNG": "121.498188"}, "1330": {"LAT": "31.240803", "LNG": "121.438579"}, "1239": {"LAT": "31.253425", "LNG": "121.506814"}, "0939": {"LAT": "31.211739", "LNG": "121.486108"}, "1241": {"LAT": "31.264485", "LNG": "121.523744"}, "0934": {"LAT": "31.195221", "LNG": "121.436755"}, "1243": {"LAT": "31.275141", "LNG": "121.544752"}, "1242": {"LAT": "31.268557", "LNG": "121.532349"}, "1245": {"LAT": "31.280478", "LNG": "121.561231"}, "1244": {"LAT": "31.279763", "LNG": "121.552669"}, "1247": {"LAT": "31.28002", "LNG": "121.589877"}, "1246": {"LAT": "31.282532", "LNG": "121.579084"}, "1249": {"LAT": "31.279744", "LNG": "121.61554"}, "1248": {"LAT": "31.280038", "LNG": "121.602988"}, "0936": {"LAT": "31.202709", "LNG": "121.460788"}, "0418": {"LAT": "31.222277", "LNG": "121.532091"}, "0937": {"LAT": "31.206306", "LNG": "121.468598"}, "0930": {"LAT": "31.166435", "LNG": "121.384827"}, "0931": {"LAT": "31.170475", "LNG": "121.397788"}, "1142": {"LAT": "31.262706", "LNG": "121.400942"}, "0932": {"LAT": "31.174697", "LNG": "121.418087"}, "0933": {"LAT": "31.183913", "LNG": "121.427314"}, "0509": {"LAT": "31.018154", "LNG": "121.419868"}, "0508": {"LAT": "31.026466", "LNG": "121.416563"}, "0501": {"LAT": "31.111232", "LNG": "121.385364"}, "0503": {"LAT": "31.089367", "LNG": "121.390342"}, "0502": {"LAT": "31.098114", "LNG": "121.385922"}, "0505": {"LAT": "31.066983", "LNG": "121.401843"}, "0507": {"LAT": "31.045109", "LNG": "121.410126"}, "1623": {"LAT": "31.153288", "LNG": "121.593117"}, "1622": {"LAT": "31.175725", "LNG": "121.583032"}, "1621": {"LAT": "31.202489", "LNG": "121.557798"}, "1627": {"LAT": "31.045472", "LNG": "121.648993"}, "1626": {"LAT": "31.054847", "LNG": "121.617665"}, "1625": {"LAT": "31.077786", "LNG": "121.611313"}, "1624": {"LAT": "31.110015", "LNG": "121.606979"}, "1629": {"LAT": "31.053744", "LNG": "121.761689"}, "1628": {"LAT": "31.050068", "LNG": "121.699376"}, "0259": {"LAT": "31.186749", "LNG": "121.698206"}, "0258": {"LAT": "31.196551", "LNG": "121.681083"}, "0255": {"LAT": "31.21106", "LNG": "121.621055"}, "0254": {"LAT": "31.204205", "LNG": "121.601979"}, "0257": {"LAT": "31.213895", "LNG": "121.673744"}, "0256": {"LAT": "31.213344", "LNG": "121.656557"}, "0251": {"LAT": "31.209426", "LNG": "121.550899"}, "0250": {"LAT": "31.218767", "LNG": "121.544312"}, "0253": {"LAT": "31.201837", "LNG": "121.587678"}, "0252": {"LAT": "31.202994", "LNG": "121.557369"}, "1159": {"LAT": "31.158099", "LNG": "121.57093"}, "1158": {"LAT": "31.154647", "LNG": "121.55621"}, "1050": {"LAT": "31.201911", "LNG": "121.435446"}, "1051": {"LAT": "31.207784", "LNG": "121.44463"}, "1052": {"LAT": "31.214978", "LNG": "121.45862"}, "1053": {"LAT": "31.216226", "LNG": "121.475357"}, "1054": {"LAT": "31.218648", "LNG": "121.48394"}, "1055": {"LAT": "31.227456", "LNG": "121.487545"}, "1056": {"LAT": "31.237657", "LNG": "121.484627"}, "1240": {"LAT": "31.257901", "LNG": "121.513166"}, "1058": {"LAT": "31.25204", "LNG": "121.484284"}, "1059": {"LAT": "31.259249", "LNG": "121.488618"}, "1153": {"LAT": "31.159715", "LNG": "121.459693"}, "1152": {"LAT": "31.166435", "LNG": "121.458492"}, "0413": {"LAT": "31.260913", "LNG": "121.500677"}, "0412": {"LAT": "31.259006", "LNG": "121.489734"}, "0828": {"LAT": "31.170511", "LNG": "121.496407"}, "0829": {"LAT": "31.178443", "LNG": "121.494691"}, "0417": {"LAT": "31.228772", "LNG": "121.527113"}, "0416": {"LAT": "31.240038", "LNG": "121.519346"}, "0415": {"LAT": "31.251925", "LNG": "121.517157"}, "0414": {"LAT": "31.257979", "LNG": "121.513037"}, "0822": {"LAT": "31.084254", "LNG": "121.508595"}, "0823": {"LAT": "31.096529", "LNG": "121.506364"}, "0820": {"LAT": "31.061391", "LNG": "121.512265"}, "1057": {"LAT": "31.243748", "LNG": "121.482739"}, "0826": {"LAT": "31.153398", "LNG": "121.4801"}, "0827": {"LAT": "31.16089", "LNG": "121.493661"}, "0824": {"LAT": "31.118869", "LNG": "121.497781"}, "0825": {"LAT": "31.141278", "LNG": "121.489713"}, "0624": {"LAT": "31.149841", "LNG": "121.514453"}, "0625": {"LAT": "31.159867", "LNG": "121.515869"}, "0626": {"LAT": "31.172609", "LNG": "121.510934"}, "0627": {"LAT": "31.18579", "LNG": "121.509776"}, "0621": {"LAT": "31.153366", "LNG": "121.48025"}, "0622": {"LAT": "31.148629", "LNG": "121.495227"}, "0623": {"LAT": "31.149033", "LNG": "121.506256"}, "0628": {"LAT": "31.193243", "LNG": "121.516728"}, "0629": {"LAT": "31.203228", "LNG": "121.523466"}, "0239": {"LAT": "31.214868", "LNG": "121.387241"}, "0238": {"LAT": "31.216666", "LNG": "121.37383"}, "0237": {"LAT": "31.218207", "LNG": "121.359583"}, "0236": {"LAT": "31.194257", "LNG": "121.326259"}, "0235": {"LAT": "31.193945", "LNG": "121.321538"}, "0234": {"LAT": "31.188346", "LNG": "121.299394"}, "0736": {"LAT": "31.246642", "LNG": "121.43167"}, "0737": {"LAT": "31.239964", "LNG": "121.438279"}, "0734": {"LAT": "31.263958", "LNG": "121.422657"}, "0735": {"LAT": "31.256108", "LNG": "121.421885"}, "0732": {"LAT": "31.284865", "LNG": "121.42137"}, "0733": {"LAT": "31.274009", "LNG": "121.423087"}, "0730": {"LAT": "31.303568", "LNG": "121.413645"}, "0731": {"LAT": "31.293154", "LNG": "121.416563"}, "0738": {"LAT": "31.233726", "LNG": "121.44257"}, "0739": {"LAT": "31.222937", "LNG": "121.448492"}, "0127": {"LAT": "31.258784", "LNG": "121.459211"}, "0126": {"LAT": "31.247337", "LNG": "121.455778"}, "0125": {"LAT": "31.241613", "LNG": "121.458353"}, "0124": {"LAT": "31.238384", "LNG": "121.468138"}, "0123": {"LAT": "31.23288", "LNG": "121.475519"}, "0122": {"LAT": "31.222678", "LNG": "121.473288"}, "0121": {"LAT": "31.217247", "LNG": "121.459984"}, "0120": {"LAT": "31.213283", "LNG": "121.450886"}, "1155": {"LAT": "31.143151", "LNG": "121.511664"}, "1154": {"LAT": "31.153435", "LNG": "121.48025"}, "1157": {"LAT": "31.150864", "LNG": "121.539044"}, "1156": {"LAT": "31.14642", "LNG": "121.523036"}, "1151": {"LAT": "31.172604", "LNG": "121.452956"}, "1150": {"LAT": "31.179177", "LNG": "121.441368"}, "0129": {"LAT": "31.279839", "LNG": "121.45183"}, "0128": {"LAT": "31.271769", "LNG": "121.455349"}, "0840": {"LAT": "31.276503", "LNG": "121.491107"}, "0841": {"LAT": "31.274779", "LNG": "121.50145"}, "0842": {"LAT": "31.273129", "LNG": "121.509647"}, "0843": {"LAT": "31.274889", "LNG": "121.518402"}, "0844": {"LAT": "31.27874", "LNG": "121.528487"}, "0845": {"LAT": "31.288533", "LNG": "121.535053"}, "0846": {"LAT": "31.295684", "LNG": "121.533164"}, "0847": {"LAT": "31.304888", "LNG": "121.532091"}, "0848": {"LAT": "31.314751", "LNG": "121.531877"}, "0849": {"LAT": "31.322633", "LNG": "121.531877"}, "0929": {"LAT": "31.158026", "LNG": "121.36912"}, "0928": {"LAT": "31.155161", "LNG": "121.349294"}, "0927": {"LAT": "31.149395", "LNG": "121.337749"}, "0926": {"LAT": "31.137091", "LNG": "121.319467"}, "0925": {"LAT": "31.118171", "LNG": "121.260244"}, "0924": {"LAT": "31.104025", "LNG": "121.229646"}, "0923": {"LAT": "31.084401", "LNG": "121.230461"}, "0922": {"LAT": "31.053965", "LNG": "121.23265"}, "0921": {"LAT": "31.030286", "LNG": "121.230761"}, "0920": {"LAT": "31.015575", "LNG": "121.230547"}, "1019": {"LAT": "31.169548", "LNG": "121.364378"}, "1061": {"LAT": "31.274839", "LNG": "121.501536"}, "1060": {"LAT": "31.26842", "LNG": "121.494326"}, "1141": {"LAT": "31.268979", "LNG": "121.389956"}, "1323": {"LAT": "31.242491", "LNG": "121.355152"}, "1321": {"LAT": "31.240767", "LNG": "121.319446"}, "1326": {"LAT": "31.23163", "LNG": "121.394591"}, "1327": {"LAT": "31.23108", "LNG": "121.411843"}, "1324": {"LAT": "31.237501", "LNG": "121.367168"}, "1325": {"LAT": "31.232107", "LNG": "121.382102"}, "1328": {"LAT": "31.230382", "LNG": "121.423687"}, "1329": {"LAT": "31.234272", "LNG": "121.43064"}, "0325": {"LAT": "31.259882", "LNG": "121.480207"}, "0324": {"LAT": "31.251512", "LNG": "121.476302"}, "0327": {"LAT": "31.281248", "LNG": "121.482428"}, "0326": {"LAT": "31.27135", "LNG": "121.479225"}, "0321": {"LAT": "31.246348", "LNG": "121.429803"}, "0320": {"LAT": "31.239304", "LNG": "121.417701"}, "0323": {"LAT": "31.249669", "LNG": "121.458213"}, "0322": {"LAT": "31.25453", "LNG": "121.441004"}, "0329": {"LAT": "31.305516", "LNG": "121.485099"}, "0328": {"LAT": "31.289418", "LNG": "121.483232"}, "1250": {"LAT": "31.280203", "LNG": "121.626849"}, "1251": {"LAT": "31.263183", "LNG": "121.638758"}, "1139": {"LAT": "31.276682", "LNG": "121.364593"}, "1138": {"LAT": "31.281633", "LNG": "121.349658"}, "0260": {"LAT": "31.192844", "LNG": "121.723784"}, "0261": {"LAT": "31.19936", "LNG": "121.755305"}, "0262": {"LAT": "31.168483", "LNG": "121.796847"}, "0263": {"LAT": "31.150561", "LNG": "121.806245"}, "1133": {"LAT": "31.345319", "LNG": "121.245374"}, "1132": {"LAT": "31.377127", "LNG": "121.227865"}, "1131": {"LAT": "31.391489", "LNG": "121.237392"}, "1137": {"LAT": "31.297036", "LNG": "121.323223"}, "1135": {"LAT": "31.319586", "LNG": "121.276874"}, "1134": {"LAT": "31.329997", "LNG": "121.254258"}, "0512": {"LAT": "31.003588", "LNG": "121.380858"}, "0513": {"LAT": "31.000572", "LNG": "121.369657"}, "0510": {"LAT": "31.011239", "LNG": "121.410083"}, "0511": {"LAT": "31.007414", "LNG": "121.395234"}, "0747": {"LAT": "31.182192", "LNG": "121.50042"}, "0746": {"LAT": "31.178521", "LNG": "121.494583"}, "0745": {"LAT": "31.174555", "LNG": "121.486086"}, "0744": {"LAT": "31.171838", "LNG": "121.473727"}, "0743": {"LAT": "31.185129", "LNG": "121.457505"}, "0742": {"LAT": "31.190857", "LNG": "121.45493"}, "0741": {"LAT": "31.199153", "LNG": "121.450209"}, "0740": {"LAT": "31.213468", "LNG": "121.449179"}, "1145": {"LAT": "31.237831", "LNG": "121.41755"}, "0749": {"LAT": "31.187552", "LNG": "121.525139"}, "0748": {"LAT": "31.18579", "LNG": "121.509861"}, "1630": {"LAT": "31.026314", "LNG": "121.793875"}, "1631": {"LAT": "30.959065", "LNG": "121.85048"}, "1632": {"LAT": "30.923397", "LNG": "121.910905"}, "1633": {"LAT": "30.907124", "LNG": "121.929616"}, "0242": {"LAT": "31.219529", "LNG": "121.430972"}, "0243": {"LAT": "31.224135", "LNG": "121.447945"}, "0240": {"LAT": "31.211142", "LNG": "121.404064"}, "0241": {"LAT": "31.218061", "LNG": "121.415694"}, "0246": {"LAT": "31.23762", "LNG": "121.484831"}, "0247": {"LAT": "31.238244", "LNG": "121.502255"}, "0244": {"LAT": "31.229878", "LNG": "121.45994"}, "0245": {"LAT": "31.234593", "LNG": "121.474488"}, "0248": {"LAT": "31.233281", "LNG": "121.515548"}, "0249": {"LAT": "31.228768", "LNG": "121.527178"}, "0411": {"LAT": "31.251558", "LNG": "121.476216"}, "0410": {"LAT": "31.249724", "LNG": "121.458191"}, "0646": {"LAT": "31.335354", "LNG": "121.593933"}, "0647": {"LAT": "31.347743", "LNG": "121.586894"}, "0644": {"LAT": "31.312185", "LNG": "121.589426"}, "0645": {"LAT": "31.321607", "LNG": "121.601958"}, "0642": {"LAT": "31.290733", "LNG": "121.588697"}, "0643": {"LAT": "31.302578", "LNG": "121.589169"}, "0640": {"LAT": "31.271991", "LNG": "121.587839"}, "0641": {"LAT": "31.280721", "LNG": "121.588354"}, "0648": {"LAT": "31.352947", "LNG": "121.574749"}, "0419": {"LAT": "31.21156", "LNG": "121.527886"}, "0821": {"LAT": "31.073577", "LNG": "121.510591"}, "1160": {"LAT": "31.153325", "LNG": "121.593117"}, "1143": {"LAT": "31.250673", "LNG": "121.407251"}, "0401": {"LAT": "31.182853", "LNG": "121.43742"}, "0402": {"LAT": "31.187075", "LNG": "121.427249"}, "0403": {"LAT": "31.197464", "LNG": "121.420769"}, "0404": {"LAT": "31.209614", "LNG": "121.417078"}, "0405": {"LAT": "31.218019", "LNG": "121.415705"}, "0406": {"LAT": "31.232295", "LNG": "121.413259"}, "0407": {"LAT": "31.239304", "LNG": "121.417722"}, "0408": {"LAT": "31.246348", "LNG": "121.429695"}, "0409": {"LAT": "31.254567", "LNG": "121.441025"}, "1115": {"LAT": "31.296156", "LNG": "121.117186"}, "1114": {"LAT": "31.298723", "LNG": "121.104397"}, "1117": {"LAT": "31.288492", "LNG": "121.16199"}, "1116": {"LAT": "31.289005", "LNG": "121.15036"}, "1119": {"LAT": "31.293589", "LNG": "121.200399"}, "1118": {"LAT": "31.285338", "LNG": "121.180786"}, "1322": {"LAT": "31.24095", "LNG": "121.335282"}, "0941": {"LAT": "31.230199", "LNG": "121.51632"}, "0940": {"LAT": "31.216767", "LNG": "121.498339"}, "0943": {"LAT": "31.227447", "LNG": "121.548764"}, "0942": {"LAT": "31.228694", "LNG": "121.527221"}, "1043": {"LAT": "31.191265", "LNG": "121.347384"}, "1042": {"LAT": "31.194165", "LNG": "121.32627"}, "1041": {"LAT": "31.193871", "LNG": "121.32157"}, "1047": {"LAT": "31.198754", "LNG": "121.403946"}, "1046": {"LAT": "31.199194", "LNG": "121.392531"}, "1045": {"LAT": "31.194275", "LNG": "121.380085"}, "1044": {"LAT": "31.19009", "LNG": "121.368412"}, "1049": {"LAT": "31.196404", "LNG": "121.422657"}, "1048": {"LAT": "31.196111", "LNG": "121.412272"}, "0318": {"LAT": "31.218019", "LNG": "121.415727"}, "0319": {"LAT": "31.232258", "LNG": "121.41328"}, "0314": {"LAT": "31.176703", "LNG": "121.438386"}, "0315": {"LAT": "31.186671", "LNG": "121.427206"}, "0316": {"LAT": "31.197538", "LNG": "121.420812"}, "0317": {"LAT": "31.209651", "LNG": "121.417057"}, "0311": {"LAT": "31.153256", "LNG": "121.431047"}, "0312": {"LAT": "31.157884", "LNG": "121.443171"}, "0313": {"LAT": "31.169451", "LNG": "121.444415"}};

	var margin = {top: 20, right: 30, left: 50, bottom: 30};
	var width = 960 - margin.left - margin.right;
	var height = 800 - margin.top - margin.bottom;

	var acc = function(field){
		return function(e){
			return e[field];
		}
	};

	var x = d3.scale.linear().domain([121.15, 121.8]).range([0, width]);
	var y = d3.scale.linear().domain([31.0, 31.45]).range([height, 0]);

	var xAxis = d3.svg.axis()
				.scale(x)
				.orient("bottom");
	var yAxis = d3.svg.axis()
				.scale(y)
				.orient("left");

	var chart = d3.select("#metro")
				.attr("width", width + margin.left + margin.right)
				.attr("height", height + margin.top + margin.bottom)
				.append("g")
				.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	chart.selectAll("line.route")
		.data(connections)
		.enter()
		.append("svg:line")
		.attr("class", "route")
		.attr("stroke-width", 3)
		.attr("id", function(d) { return d[0] + "-" + d[1]; })
		.attr("stroke", function(d){ return line_color[d[2]]})
		.attr("stroke-linecap", "round")
		.attr("x1", function(d) { return x(parseFloat(stations[d[0]]['LNG'])); })
		.attr("y1", function(d) { return y(parseFloat(stations[d[0]]['LAT'])); })
		.attr("x2", function(d) { return x(parseFloat(stations[d[1]]['LNG'])); })
		.attr("y2", function(d) { return y(parseFloat(stations[d[1]]['LAT'])); });


	chart.selectAll("circle.station")
		.data(Object.keys(stations))
		.enter()
		.append("svg:circle")
		.attr("class", "station")
		.attr("id", function(d){ return d; })
		.attr("cx", function(d){ return x(stations[d]['LNG']);})
		.attr("cy", function(d){ return y(stations[d]['LAT']);})
		.attr("r", 2)
		.style("stroke", "grey")
		.style("fill", "#ffffff");


	chart.append('g')
		.attr("class", "x axis")
		.attr("transform", "translate(0, " + height + ")")
		.call(xAxis);
	
	chart.append('g')
		.attr("class", "y axis")
		.call(yAxis);

</script>
</body>
</html>